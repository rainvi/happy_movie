<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="detailed">
	<select id="userList" resultType="userdto" >
		select * from user_table
	</select>
	
	<select id="imageList" resultType="imagedto">
		select * from image_table
	</select>
	
	<select id="crewList" resultType="crewdto">
		select * from crew_table
	</select>
	
	<select id="oneMovie" parameterType="String" resultType="moviedto">
		select * from movie_table where movie_id=#{movie_id}
	</select>
	
	<insert id="insertImageTable" parameterType="imagedto">
		insert into image_table(movie_id, img_url, img_type)
		values(#{movie_id}, #{img_url}, #{img_type})
	</insert>
	
	<select id="imagePS" parameterType="imagedto" resultType="String">
		select img_url from image_table where movie_id=#{movie_id} and img_type=#{img_type}
	</select>
	
	<insert id="insertCrewTable" parameterType="crewdto">
		insert into crew_table(movie_id, name, profile_url)
		values(#{movie_id}, #{name}, #{profile_url})
	</insert>
	
	<select id="crewProfile" parameterType="String" resultType="crewdto">
		select * from crew_table where movie_id=#{movie_id}
	</select>
</mapper>